var auth=!1,page=0;function authenticated(){if(!1===auth){$("main").append('<div id="login-screen" class="login">\n                        <form class="form container" method="POST">\n                            <fieldset>\n                                <legend>Username & Password</legend>\n\n                                <label for="username">Username</label>\n                                <input  type="text" name="user[username]" placeholder="Your username" id="username">\n\n                                <label for="password">Password</label>\n                                <input type="password" name="user[contra]" placeholder="Your password" id="password">\n\n                            </fieldset>\n                            <input id="login-button" type="submit" value="Login">\n                        </form>\n                    </div> '),$("#login-button").click((function(t){if(t.preventDefault(),""===$("#username").val()||""===$("#password").val())alert("Username and Password are mandatory");else{var e={action:"Auth",user:{username:$("#username").val(),password:$("#password").val()}};$.post("Router.php",e,(function(t){null===JSON.parse(t)?(auth=!0,$("main").html(""),click(),showFolders()):alert(JSON.parse(t)[0])}))}}))}}function showFolders(){if(0===page){$("main").append('<div class="path">\n                        <h4 id="folder" class="show-folders">Folders</h4>\n                    </div>\n                    <div class="content">\n                        <div id="folders-container" class="folder">\n                            <ul id="list-folders"class="folders">   \n                            </ul>\n                            <form class="add-button">\n                                <input type="text" id="folderName" placeholder="New Folder">\n                                <button  id="folder-add" type="submit">Add</button>\n                            </form>\n                        </div>\n                    </div>'),importFolders()}}function importFolders(){const t=$("#list-folders");t.html("");$.get("Router.php",{action:"viewFolders"},(function(e){JSON.parse(e).forEach((function(e){var i=`<li class="li-folders">\n                            <p class="title">${e.name}</p>\n                            <input do="View" folderId='${e.id}' type="button" class="folder-delete discret-button" value="View items">\n                            <input do="Remove" folderId='${e.id}' type="button" class="folder-delete discret-button" value="Remove">\n                        </li>`;t.append(i)}))}))}function addFolder(){var t={action:"addFolder",folder:{name:$("#folderName").val()}};$.post("Router.php",t,(function(){$("main").html(""),showFolders()}))}function click(){$("main").click((function(t){if(t.preventDefault(),"folder"===t.target.id)$("main").html(""),page=0,showFolders();else if(["id"]in t.target.attributes&&"folder-add"===t.target.attributes.id.value)addFolder();else if(["id"]in t.target.attributes&&"activity-add"===t.target.attributes.id.value)addActivity($("#list-path").attr("idFolder"));else if("Remove"===t.target.attributes.do.value)deleteFolder(t.target.attributes.folderId.value);else if("View"===t.target.attributes.do.value)viewFolder(t.target.attributes.folderId.value);else if("Edit"===t.target.attributes.do.value)page=2,viewActivity(t.target.attributes.activityId.value);else if("changeStatus"===t.target.attributes.do.value)changeStatus(t.target.attributes.activityId.value,t.target.attributes.activityStatus.value);else if("Save"===t.target.attributes.do.value){var e={action:"editActivity",activity:{id:$("#newName").attr("activityId"),name:$("#newName").val()}};$.post("Router.php",e,(function(){var t=$("h4").attr("idFolder");e={action:"viewFolder",folder:{id:t}},$.post("Router.php",e,(function(e){$("main").html(""),page=1,viewList(JSON.parse(e),t)}))}))}else if("Cancel"===t.target.attributes.do.value){var i=$("h4").attr("idFolder");e={action:"viewFolder",folder:{id:i}};$.post("Router.php",e,(function(t){$("main").html(""),page=1,viewList(JSON.parse(t),i)}))}}))}function deleteFolder(t){var e={action:"deleteFolder",folder:{id:t}};$.post("Router.php",e,(function(){$("main").html(""),showFolders()}))}function viewFolder(t){var e={action:"viewFolder",folder:{id:t}};$.post("Router.php",e,(function(e){page=1,viewList(JSON.parse(e),t)}))}function viewList(t){if(list=t[0],folderInfo=t[1],1===page){$("main").html("");var e=`<div class="path">\n                        <h4><span id="folder" class="show-folders">Folders</span><span idFolder="${folderInfo.id}" id="list-path" class="show-list"> > ${folderInfo.name}</h4>\n                    </div>\n                    <div class="content">\n                        <div id="items-container" class="to-do_items">\n                            <p>To-Do items</p>\n                            <ul id="list-activities" class="activities">\n                            </ul>\n                            <form class="add-button">\n                                <input id="activityName" type="text" placeholder="New Task">\n                                <button id="activity-add" type="submit">Add</button>\n                            </form>\n                        </div>\n                    </div>`;$("main").append(e);const t=$("#list-activities");list.forEach((function(e){var i="";1==e.status&&(i="checked");var a=`<li class="li-items">\n                            <form class="activity">\n                                <input do="changeStatus"class="check" ${i} type="checkbox" activityStatus='${e.status}' activityId='${e.id}' value="1">\n                                <label>${e.name}</label>\n                            </form>\n                            <input do="Edit" activityId='${e.id}' type="button" class="discret-button" value="Edit">\n                        </li>`;t.append(a)}))}}function addActivity(t){var e={action:"addActivity",activity:{name:$("#activityName").val(),idFolder:t,status:0}};$.post("Router.php",e,(function(i){$("#activityName").val(""),e={action:"viewFolder",folder:{id:t}},$.post("Router.php",e,(function(e){page=1,viewList(JSON.parse(e),t)}))}))}function viewActivity(t){if(2===page){$("main").html("");var e={action:"viewActivity",activity:{id:t}};$("#editing-activities");$.post("Router.php",e,(function(t){var e=JSON.parse(t),i=`<div class="content">\n                            <div id="editing-activities" class="edit">\n                                <h4 idFolder="${e.idFolder}">Editing "${e.name}"</h4>\n                                <input  id="newName" activityId='${e.id}' type="text" placeholder='${e.name}'>\n                                <button do="Save" type="submit">Save</button>\n                                <button do="Cancel" type="submit">Cancel</button>\n                            </div>\n                        </div>`;$("main").append(i)}))}}function changeStatus(t,e){var i={action:"editActivity",activity:{id:t,status:0==e?1:0}};$.post("Router.php",i,(function(){var t={id:$("#list-path").attr("idFolder")};i={action:"viewFolder",folder:t},$.post("Router.php",i,(function(t){page=1,viewList(JSON.parse(t),$("#list-path").attr("idFolder"))}))}))}$(document).ready((function(){authenticated()}));
//# sourceMappingURL=bundle.js.map
